<div *ngIf="bear$ | async as bear">
  <div class="flex flex-col-reverse md:flex-row justify-between gap-4">
    <div class="w-full md:w-2/3">
      <div class="text-2xl font-bold">
        <ng-container *ngIf="bear.Rehomed; else waiting">
          <div class="bg-secondary text-secondary-content p-4">
            Found their forever home
          </div>
        </ng-container>

        <ng-template #waiting>
          <div class="bg-primary text-primary-content p-4">
            Waiting to be rehomed
          </div>
        </ng-template>
      </div>
      <div class="py-2" *ngIf="bear.Description">
        <div
          [innerHtml]="bear.Description | multilineStringToHtml : false"
        ></div>
        <div>
          <div
            [class.block]="showMoreDescription"
            [class.hidden]="!showMoreDescription"
            [innerHtml]="bear.Description | multilineStringToHtml : true"
          ></div>
          <span class="cursor-pointer text-sm">
            <a (click)="toggleMoreDescription()">
              Read {{ showMoreDescription ? "less" : "more" }}
            </a>
          </span>
        </div>
      </div>
    </div>
    <div class="w-full md:w-1/3">
      <div class="w-full overflow-hidden bg-cover bg-no-repeat">
        <img
          class="w-full transition duration-300 ease-in-out hover:scale-110"
          src="/assets/images/bears/{{ bear.Id }}.jpg"
        />
      </div>
    </div>
  </div>
  <div class="flex w-full flex-col sm:flex-row flex-wrap py-4">
    <div
      *ngIf="bear.Rescued"
      class="flex flex-row sm:flex-col md:flex-row items-center sm:items-start md:items-center w-full xl:w-1/3 p-4 gap-2 bg-primary text-primary-content"
    >
      <div class="w-1/2 text-xl font-bold">Rescued</div>
      <div class="w-1/2 md:px-2 xl:px-0">
        <div>
          <a
            class="text-primary-content"
            [routerLink]="['/', 'locations', bear.Rescued.Location.Id]"
          >
            {{ bear.Rescued.Location.Name }}
          </a>
        </div>
        <div>{{ bear.Rescued.Date | date : "d MMM yyyy" }}</div>
      </div>
    </div>
    <div
      *ngIf="bear.Event"
      class="flex flex-row sm:flex-col md:flex-row items-center sm:items-start md:items-center w-full sm:w-1/2 xl:w-1/3 p-4 gap-2 bg-gray-lighter text-black"
    >
      <div class="w-1/2 text-xl font-bold">Adopted</div>
      <div class="w-1/2">
        <div>
          <a
            class="text-black"
            [routerLink]="['/', 'locations', bear.Event.Location.Location.Id]"
          >
            {{ bear.Event.Location.Location.Name }}
          </a>
        </div>
        <div>{{ bear.Event.Date | date : "d MMM yyyy" }}</div>
      </div>
    </div>
    <div
      *ngIf="bear.Rehomed"
      class="flex flex-row sm:flex-col md:flex-row items-center sm:items-start md:items-center w-full sm:w-1/2 xl:w-1/3 p-4 gap-2 bg-secondary text-secondary-content"
    >
      <div class="w-1/2 text-xl font-bold">Rehomed</div>
      <div class="w-1/2">
        <div>
          <a
            class="text-secondary-content"
            [routerLink]="['/', 'locations', bear.Rehomed.Location.Id]"
          >
            {{ bear.Rehomed.Location.Name }}
          </a>
        </div>
        <div>{{ bear.Rehomed.Date | date : "d MMM yyyy" }}</div>
      </div>
    </div>
    <div
      *ngIf="!bear.Event && !bear.Rehomed"
      class="flex flex-col justify-center items-center w-full md:w-2/3 p-4 gap-2 bg-gray-lighter text-black"
    >
      <div class="w-full md:w-1/2 text-xl font-bold text-center">
        Looking for their forever home
      </div>
      <a class="button w-full md:w-1/2" [routerLink]="['/', 'contact']">
        Adopt Now!
      </a>
    </div>
  </div>
  <div></div>
</div>
